<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>luau: error.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>error.c File Reference</h1><code>#include &lt;stdarg.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;unistd.h&gt;</code><br>
<code>#include &lt;glib.h&gt;</code><br>
<code>#include "<a class="el" href="util_8h-source.html">util.h</a>"</code><br>
<code>#include "<a class="el" href="error_8h-source.html">error.h</a>"</code><br>

<p>
<a href="error_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="error_8c.html#a0">G_LOG_DOMAIN</a>&nbsp;&nbsp;&nbsp;"Luau"</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="error_8c.html#a2">defaultPromptFunc</a> (const char *title, const char *msg, int nTotal, int nDefault, const char *choice1, va_list args)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="error_8c.html#a3">lutil_error_setPromptFunc</a> (<a class="el" href="error_8h.html#a4">UPromptFunc</a> promptFunc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set a new function to prompt the user with.  <a href="#a3"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="error_8c.html#a4">lutil_error_resetPromptFunc</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset the prompt function to the default prompt function.  <a href="#a4"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="error_8c.html#a5">lutil_error_fatal</a> (const char *filename, const char *function, int lineno, const char *template,...)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="error_8c.html#a6">lutil_error_prompt</a> (const char *title, const char *msg, int nTotal, int nDefault, const char *choice1,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prompt the user for input.  <a href="#a6"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="error_8c.html#a7">lutil_error</a> (const char *filename, const char *function, int lineno, const char *template,...)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="error_8c.html#a8">lutil_debug</a> (const char *filename, const char *function, int lineno, const char *template,...)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="error_8h.html#a4">UPromptFunc</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="error_8c.html#a1">promptFunc_global</a> = defaultPromptFunc</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a0" doxytag="error.c::G_LOG_DOMAIN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define G_LOG_DOMAIN&nbsp;&nbsp;&nbsp;"Luau"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="error_8c-source.html#l00042">42</a> of file <a class="el" href="error_8c-source.html">error.c</a>.
<p>
Referenced by <a class="el" href="error_8c-source.html#l00192">lutil_debug()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a2" doxytag="error.c::defaultPromptFunc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int defaultPromptFunc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>title</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>nTotal</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>nDefault</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>choice1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>va_list&nbsp;</td>
          <td class="mdname" nowrap> <em>args</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="error_8c-source.html#l00216">216</a> of file <a class="el" href="error_8c-source.html">error.c</a>.
<p>
Referenced by <a class="el" href="error_8c-source.html#l00100">lutil_error_resetPromptFunc()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="error.c::lutil_debug" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void lutil_debug           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>function</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>template</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>...</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="error_8c-source.html#l00192">192</a> of file <a class="el" href="error_8c-source.html">error.c</a>.
<p>
References <a class="el" href="error_8c-source.html#l00042">G_LOG_DOMAIN</a>, and <a class="el" href="util_8c-source.html#l00285">lutil_valistToString()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="error.c::lutil_error" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void lutil_error           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>function</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>template</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>...</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Display an error using the defined error function (or the default, if none is defined). Default behavior (as defined by <code>defaultErrorFunc</code>) is to simply display the error to STDERR in the following format:<p>
<pre><div class="fragment"> *** <a class="code" href="error_8h.html#a1">ERROR</a> ***
 luau: FILENAME: FUNCTION: STRING
</div></pre><p>
<ul>
<li><em>filename</em> is the name of the source file where the error occured </li>
<li><em>function</em> is the name of the function where the error occured </li>
<li><em>lineno</em> is the line number where the error occured </li>
<li><em>template</em> is the (printf) template for the error string </li>
<li><em></em>... is the arguments to the (printf) template. </li>
</ul>

<p>
Definition at line <a class="el" href="error_8c-source.html#l00173">173</a> of file <a class="el" href="error_8c-source.html">error.c</a>.
<p>
References <a class="el" href="util_8c-source.html#l00285">lutil_valistToString()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="error.c::lutil_error_fatal" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void lutil_error_fatal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>function</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>template</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>...</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Display a fatal error message and die. Cannot be overridden. Only called internally when there is a memory failure.<p>
<ul>
<li><em>string</em> is the error string </li>
<li><em>filename</em> is the name of the source file where the error occured </li>
<li><em>function</em> is the name of the function where the error occured </li>
<li><em>lineno</em> is the line number where the error occured <dl compact><dt><b>Returns:</b></dt><dd>... Never. </dd></dl>
</li>
</ul>

<p>
Definition at line <a class="el" href="error_8c-source.html#l00115">115</a> of file <a class="el" href="error_8c-source.html">error.c</a>.
<p>
References <a class="el" href="util_8c-source.html#l00285">lutil_valistToString()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="error.c::lutil_error_prompt" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int lutil_error_prompt           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>title</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>nTotal</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>nDefault</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>choice1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>...</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Prompt the user for input. 
<p>
Prompt the user for input, using the defined prompt function (or the default, if none is defined). Default behavior is not to prompt the user at all, but instead to return the default value.<p>
<ul>
<li><em>title</em> is the name of the prompt </li>
<li><em>msg</em> is the prompt to ask the user </li>
<li><em>nTotal</em> is the number of options given </li>
<li><em>nDefault</em> is the id of the default option (<b>must</b> be provided) </li>
<li><em>choice1</em> is the first choice </li>
<li><em>args</em> is the rest of the choices</li>
</ul>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="error_8h.html#a5">lutil_error_setPromptFunc</a> </dd></dl>

<p>
Definition at line <a class="el" href="error_8c-source.html#l00145">145</a> of file <a class="el" href="error_8c-source.html">error.c</a>.
<p>
References <a class="el" href="error_8c-source.html#l00048">promptFunc_global</a>.
<p>
Referenced by <a class="el" href="libuau_8c-source.html#l00246">luau_downloadUpdate()</a>, and <a class="el" href="network_8c-source.html#l00099">luau_net_downloadUpdate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="error.c::lutil_error_resetPromptFunc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void lutil_error_resetPromptFunc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reset the prompt function to the default prompt function. 
<p>

<p>
Definition at line <a class="el" href="error_8c-source.html#l00100">100</a> of file <a class="el" href="error_8c-source.html">error.c</a>.
<p>
References <a class="el" href="error_8c-source.html#l00216">defaultPromptFunc()</a>, and <a class="el" href="error_8c-source.html#l00048">promptFunc_global</a>.
<p>
Referenced by <a class="el" href="libuau_8c-source.html#l00417">luau_resetPromptFunc()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="error.c::lutil_error_setPromptFunc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void lutil_error_setPromptFunc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="error_8h.html#a4">UPromptFunc</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>promptFunc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set a new function to prompt the user with. 
<p>
Define a new function to be used for prompting the user for input. The default value, specified by <code>nDefault</code>, and the title (<code>title</code>) may be ignored. The prompt function should return the id of the value picked (first = 1, second = 2, etc.). Default behavior is to not prompt the user at all, and simply return the default value.<p>
<ul>
<li><em>promptFunc</em> is the new prompting function to use </li>
<li><b>title</b> is the name of the prompt </li>
<li><b>msg</b> is the prompt to ask the user </li>
<li><b>nTotal</b> is the number of options given </li>
<li><b>nDefault</b> is the id of the default option (<b>must</b> be provided) </li>
<li><b>choice1</b> is the first choice </li>
<li><b>args</b> is the rest of the choices</li>
</ul>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="error_8h.html#a8">lutil_error_prompt</a> </dd></dl>

<p>
Definition at line <a class="el" href="error_8c-source.html#l00090">90</a> of file <a class="el" href="error_8c-source.html">error.c</a>.
<p>
References <a class="el" href="error_8c-source.html#l00048">promptFunc_global</a>.
<p>
Referenced by <a class="el" href="libuau_8c-source.html#l00380">luau_registerPromptFunc()</a>.    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a1" doxytag="error.c::promptFunc_global" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="error_8h.html#a4">UPromptFunc</a> <a class="el" href="error_8c.html#a1">promptFunc_global</a> = defaultPromptFunc<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="error_8c-source.html#l00048">48</a> of file <a class="el" href="error_8c-source.html">error.c</a>.
<p>
Referenced by <a class="el" href="error_8c-source.html#l00145">lutil_error_prompt()</a>, <a class="el" href="error_8c-source.html#l00100">lutil_error_resetPromptFunc()</a>, and <a class="el" href="error_8c-source.html#l00090">lutil_error_setPromptFunc()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat Jan 15 16:52:30 2005 for luau by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
