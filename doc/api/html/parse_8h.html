<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>luau: parse.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>parse.h File Reference</h1>Simple functions commonly needed in parsing files.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;glib.h&gt;</code><br>

<p>
<a href="parse_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structLUAU__parsedLine.html">LUAU_parsedLine</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A line of input sorted into its identifier and its arguments.  <a href="structLUAU__parsedLine.html#_details">More...</a><br><br></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structLUAU__parsedLine.html">LUAU_parsedLine</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="parse_8h.html#a0">lutil_parse_parseLine</a> (char *input)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse a line of input.  <a href="#a0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="parse_8h.html#a1">lutil_parse_parseSymbol</a> (const char *input, const GPtrArray *symbols)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compare a keyword to a list of valid symbols.  <a href="#a1"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="parse_8h.html#a2">lutil_parse_parseSymbolArray</a> (const char *input, const char *symbols[])</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compare a keyword to a list of valid symbols.  <a href="#a2"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="parse_8h.html#a3">lutil_parse_freeParsedLine</a> (<a class="el" href="structLUAU__parsedLine.html">LUAU_parsedLine</a> *line)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free a <a class="el" href="structLUAU__parsedLine.html">LUAU_parsedLine</a> pointer.  <a href="#a3"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="parse_8h.html#a4">lutil_parse_nextToken</a> (char *input)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the next token in a given line of input.  <a href="#a4"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="parse_8h.html#a5">lutil_parse_nextToken_r</a> (char *input, char **ptrptr)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="parse_8h.html#a6">lutil_parse_deleteWhitespace</a> (char *string)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Skip leading whitespace and delete trailing whitespace.  <a href="#a6"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="parse_8h.html#a7">lutil_parse_skipString</a> (char *input, char *string)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Skip a string in the given line of input.  <a href="#a7"></a><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Simple functions commonly needed in parsing files. 
<p>
These are used by lutil_parseUpdateFile in parsing downloaded update files, and also by the command-line utility <code>luau</code> in parsing user input during interactive mode.
<p>
Definition in file <a class="el" href="parse_8h-source.html">parse.h</a>.<hr><h2>Function Documentation</h2>
<a class="anchor" name="a6" doxytag="parse.h::lutil_parse_deleteWhitespace" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char* lutil_parse_deleteWhitespace           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>string</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Skip leading whitespace and delete trailing whitespace. 
<p>
Note that this "skips" leading whitespace by just returning a pointer to where the actual text in the string begins - nothing is actually deleted. Trailing whitespace is "deleted" by overwriting it with the null character ('\0').<p>
<ul>
<li><em>string</em> is the string to modify <dl compact><dt><b>Returns:</b></dt><dd>a pointer to the same string with white-space removed. </dd></dl>
</li>
</ul>

<p>
Definition at line <a class="el" href="parse_8c-source.html#l00238">238</a> of file <a class="el" href="parse_8c-source.html">parse.c</a>.
<p>
Referenced by <a class="el" href="parseupdatesxml_8c-source.html#l00477">parseGenericInfo()</a>, <a class="el" href="parseupdatesxml_8c-source.html#l00371">parseMirrorDef()</a>, <a class="el" href="parseupdatesxml_8c-source.html#l00611">parsePackage()</a>, <a class="el" href="parseupdatesxml_8c-source.html#l00819">parsePackageChildMirrors()</a>, <a class="el" href="parseupdatesxml_8c-source.html#l00294">parseProgInfoTag()</a>, and <a class="el" href="parseupdatesxml_8c-source.html#l00575">parseSoftware()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="parse.h::lutil_parse_freeParsedLine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void lutil_parse_freeParsedLine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structLUAU__parsedLine.html">LUAU_parsedLine</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>line</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Free a <a class="el" href="structLUAU__parsedLine.html">LUAU_parsedLine</a> pointer. 
<p>
Free the memory allocated for a <a class="el" href="structLUAU__parsedLine.html">LUAU_parsedLine</a>. Note that this function also frees the structure pointer itself.<p>
<ul>
<li>line is the <a class="el" href="structLUAU__parsedLine.html">LUAU_parsedLine</a> to free. </li>
</ul>

<p>
Definition at line <a class="el" href="parse_8c-source.html#l00126">126</a> of file <a class="el" href="parse_8c-source.html">parse.c</a>.
<p>
References <a class="el" href="parse_8h-source.html#l00040">LUAU_parsedLine::args</a>, and <a class="el" href="parse_8h-source.html#l00039">LUAU_parsedLine::keyword</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="parse.h::lutil_parse_nextToken" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char* lutil_parse_nextToken           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>input</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Find the next token in a given line of input. 
<p>
Tokens are separated by whitespace. Tokens can have whitespace in them through the use of escaping (this\ is\ one\ token) or quoting ("this is one token"). Multi-line quotes or even multi-line input is not allowed.<p>
To use: Call lutil_parse_nextToken <b>once</b> with the line of input to parse to get the first token.. Then call repeatedly with a NULL argument to retrieve any additional arguments. Returns null when end of line is reached.<p>
<ul>
<li><em>input</em> is the line of input to parse (or NULL to continue parsing last line given). <dl compact><dt><b>Returns:</b></dt><dd>the next token found </dd></dl>
</li>
</ul>

<p>
Definition at line <a class="el" href="parse_8c-source.html#l00154">154</a> of file <a class="el" href="parse_8c-source.html">parse.c</a>.
<p>
References <a class="el" href="parse_8c-source.html#l00161">lutil_parse_nextToken_r()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="parse.h::lutil_parse_nextToken_r" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char* lutil_parse_nextToken_r           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>ptrptr</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="parse_8c-source.html#l00161">161</a> of file <a class="el" href="parse_8c-source.html">parse.c</a>.
<p>
References <a class="el" href="error_8h-source.html#l00041">ERROR</a>.
<p>
Referenced by <a class="el" href="parse_8c-source.html#l00154">lutil_parse_nextToken()</a>, and <a class="el" href="parse_8c-source.html#l00046">lutil_parse_parseLine()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="parse.h::lutil_parse_parseLine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structLUAU__parsedLine.html">LUAU_parsedLine</a>* lutil_parse_parseLine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>input</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Parse a line of input. 
<p>
lutil_parse_parseLine is really a front-end for using lutil_parse_nextToken, which is calls and places the output into a nicely structured <a class="el" href="structLUAU__parsedLine.html">LUAU_parsedLine</a>. <code>keyword</code> is simply the first token of the input, and <code>args</code> is just an array of the rest of the tokens.<p>
<ul>
<li><em>input</em> is the line of input to parse <dl compact><dt><b>Returns:</b></dt><dd>input parsed into a <a class="el" href="structLUAU__parsedLine.html">LUAU_parsedLine</a> object </dd></dl>
</li>
</ul>

<p>
Definition at line <a class="el" href="parse_8c-source.html#l00046">46</a> of file <a class="el" href="parse_8c-source.html">parse.c</a>.
<p>
References <a class="el" href="parse_8h-source.html#l00040">LUAU_parsedLine::args</a>, <a class="el" href="parse_8h-source.html#l00039">LUAU_parsedLine::keyword</a>, and <a class="el" href="parse_8c-source.html#l00161">lutil_parse_nextToken_r()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="parse.h::lutil_parse_parseSymbol" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char lutil_parse_parseSymbol           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const GPtrArray *&nbsp;</td>
          <td class="mdname" nowrap> <em>symbols</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Compare a keyword to a list of valid symbols. 
<p>
Take a symbol and translate it into its corresponding character as defined by the <code>symbols</code> array. The structure of the <code>symbols</code> array looks as follows: <pre><div class="fragment"> symbols[0] =&gt; <span class="stringliteral">"symbol1"</span>
 symbols[1] =&gt; <span class="charliteral">'a'</span>
 symbols[2] =&gt; <span class="stringliteral">"symbol2"</span>
 symbols[3] =&gt; <span class="charliteral">'b'</span>
 ...
</div></pre>where "symbol1" =&gt; 'a' and "symbol2" =&gt; 'b'.<p>
<ul>
<li>input is the symbol to parse </li>
<li>symbols is the symbols array to check against <dl compact><dt><b>Returns:</b></dt><dd>the character corresponding to the given symbol </dd></dl>
</li>
</ul>

<p>
Definition at line <a class="el" href="parse_8c-source.html#l00076">76</a> of file <a class="el" href="parse_8c-source.html">parse.c</a>.
<p>
References <a class="el" href="util_8c-source.html#l00063">lutil_streq()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="parse.h::lutil_parse_parseSymbolArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char lutil_parse_parseSymbolArray           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>symbols</em>[]</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Compare a keyword to a list of valid symbols. 
<p>
Like <a class="el" href="parse_8h.html#a1">lutil_parse_parseSymbol</a> but using a two dimensional array instead of a GPtrArray<p>
<ul>
<li>input is the symbol to parse </li>
<li>symbols is the symbols array to check against <dl compact><dt><b>Returns:</b></dt><dd>the character corresponding to the given symbol</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="parse_8h.html#a1">lutil_parse_parseSymbol</a> </dd></dl>
</li>
</ul>

<p>
Definition at line <a class="el" href="parse_8c-source.html#l00103">103</a> of file <a class="el" href="parse_8c-source.html">parse.c</a>.
<p>
References <a class="el" href="util_8c-source.html#l00063">lutil_streq()</a>.
<p>
Referenced by <a class="el" href="parseupdatesxml_8c-source.html#l00477">parseGenericInfo()</a>, <a class="el" href="parseupdatesxml_8c-source.html#l00875">parseLibupdate()</a>, <a class="el" href="parseupdatesxml_8c-source.html#l00912">parsePkgGroup()</a>, <a class="el" href="parseupdatesxml_8c-source.html#l00294">parseProgInfoTag()</a>, and <a class="el" href="parseupdatesxml_8c-source.html#l00575">parseSoftware()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="parse.h::lutil_parse_skipString" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char* lutil_parse_skipString           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>string</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Skip a string in the given line of input. 
<p>
Simply returns a pointer that skips the first <code>strlen(string)</code> characters of <code>input</code>.<p>
<ul>
<li><em>input</em> is the line of input to skip over </li>
<li><em>string</em> is the string to skip (<b>must</b> be at beginning of <code>string</code> to work properly) </li>
</ul>

<p>
Definition at line <a class="el" href="parse_8c-source.html#l00259">259</a> of file <a class="el" href="parse_8c-source.html">parse.c</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat Jan 15 16:52:31 2005 for luau by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
